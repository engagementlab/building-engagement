<section class="container desktop">
  <div class="content" *ngIf="errorMsg">
    <h3>{{errorMsg}}</h3>
  </div>
  <div class="columns column is-mobile is-multiline no-margin" *ngIf="hasContent">

    <div class="column is-11-mobile is-full-tablet">

      <div id="prompt" class="columns is-multiline is-mobile" *ngIf="showPrompt">
        <div class="column is-full-mobile is-10-tablet">
          Itâ€™s been 30 days since your last entry. Want to track your progress?
        </div>
        <div class="column">
          <a routerLink="/projects/{{project.slug}}/track" class="mono">yes</a>
          <a (click)="dismissPrompt()" class="mono">not now</a>
        </div>
      </div>

    </div>

    <div id="top" class="column columns is-full is-mobile is-multiline">
      <h4 class="column is-11-mobile is-5-tablet no-margin">{{project.name}}</h4>
      <p class="column">

        {{project.description}}
      </p>

    </div>

    <!-- Have progress -->
    <div class="columns column is-full is-mobile is-multiline" *ngIf="progress && progress.length > 0">

      <div class="column is-9">
        Latest Entry: {{progress[0].date | date: 'MM/dd/yyyy'}} <br />
        <a id="view" (click)="viewAll()">view all</a>
      </div>
      <div class="column">

        <a id="pdf" (click)="exportPdf()">
          <svg fill="none" height="36" viewBox="0 0 35 36" width="35" xmlns="http://www.w3.org/2000/svg">
            <g stroke="#000" stroke-miterlimit="10">
              <path d="m26.716 9.216h-8.716v-8.716" />
              <path
                d="m5.931 18v2.95h-.268v-6.973h2.147c.737 0 1.274.201 1.676.536.402.336.603.872.603 1.476 0 .603-.2 1.14-.603 1.475-.402.335-.939.536-1.61.536h-1.944zm0-.268h1.879c.603 0 1.14-.134 1.475-.47.335-.268.536-.737.536-1.274 0-.536-.201-1.005-.536-1.273-.335-.336-.805-.47-1.475-.47h-1.88v3.487zm5.565 3.151v-6.906h1.944c.537 0 1.006.134 1.476.402.402.269.804.604 1.005 1.073.269.47.403.939.403 1.542v.872c0 .603-.134 1.073-.336 1.542-.268.47-.603.805-1.005 1.073-.403.268-.939.402-1.475.402zm.268-6.638v6.37h1.677c.469 0 .938-.134 1.34-.335.403-.268.738-.537.94-1.006.2-.402.334-.872.334-1.408v-.872c0-.536-.134-1.005-.335-1.408-.2-.402-.536-.737-.939-1.005-.402-.269-.804-.336-1.273-.336zm9.924 3.285h-3.554v3.42h-.268v-6.973h4.291v.268h-4.023v3.018h3.554v.268z"
                fill="#000" stroke-width=".75" />
              <path d="m26.716 35.5a7.308 7.308 0 1 0 0-14.617 7.308 7.308 0 0 0 0 14.617zm0-2.95v-8.717" />
              <path d="m22.358 28.192 4.358 4.358 4.426-4.358m-8.784 4.358h8.784" />
              <path
                d="m19.475 28.192c0-4.023 3.285-7.309 7.308-7.309v-11.667l-8.715-8.716h-17.568v35h26.216c-4.023 0-7.24-3.285-7.24-7.308z" />
            </g>
          </svg>
        </a>

      </div>

      <div id="all" class="column is-full">
        <hr id="all-hr1" />
        <div class="columns is-mobile" *ngFor="let entry of progress; let i = index;">
          <div class="column is-1">
            <span class="num mono">
              {{progress.length - i}}
            </span>
          </div>
          <div class="column is-2">
            {{entry.date | date: 'MM/dd/yyyy'}}
          </div>
          <div class="column">
            {{entry.sumX/2}}, {{entry.sumY/2}}
          </div>
        </div>
        <hr id="all-hr2" />
      </div>
    </div>

    <!-- Progress canvas -->
    <div class="column is-full" *ngIf="!noProgress">

      <canvas #canvasElement id="canvas" height="680" width="680"></canvas>
      <!-- 
      <div class="bottom mono back columns">
        <a class="column" routerLink="/projects" *ngIf="progress">
          <svg width="21" height="17" fill="none" viewBox="0 0 21 17">
            <path stroke="#000" d="M21 8.539H.727M8.473 16.497L.363 8.388" />
            <path stroke="#000" stroke-width="1.02719" d="M8.473.363l-8.11 8.11" />
          </svg>
          <span>Back to<br />Projects</span>
        </a>
        <a class="column" routerLink="/projects/{{project.slug}}/track" *ngIf="progress">
          Track your Progress
        </a> -->
    </div>
  </div>

  <!-- No progress -->
  <div class="column columns no-margin  is-11-mobile is-full-tablet is-mobile is-multiline" *ngIf="noProgress">


    <!-- Talk it out btn -->
    <div class="column columnsis-full is-mobile is-multiline green">

      <div class="header column is-full">
        <div class="outline" data-text="1">1</div>
        <div class="label">
          Talk it Out
        </div>
      </div>

      <div class="column is-half-mobile">
        <svg xmlns="http://www.w3.org/2000/svg" width="127" height="100" fill="none" viewBox="0 0 127 100">
          <path fill="#fff" stroke="#000" stroke-miterlimit="10"
            d="M69.286 99.28c-47.962 0-56.963-35.944-56.963-35.944s26.798-47.88 41.846-47.88c6.665 0 12.025 3.636 15.117 8.987 3.092-5.35 8.314-8.986 14.98-8.986 14.979 0 41.983 47.88 41.983 47.88S117.248 99.28 69.286 99.28z" />
          <path fill="#fff" stroke="#000" stroke-miterlimit="10"
            d="M126.249 63.336s-23.981 20.922-56.963 20.922-56.963-20.922-56.963-20.922S44.412 33.43 69.286 33.43c24.874 0 56.963 29.907 56.963 29.907z" />
          <path fill="#fff" d="M39.324 78.359c12.025-16.875 29.959-1.852 29.959-1.852s18.002-15.023 29.959 1.852" />
          <path stroke="#000" stroke-miterlimit="10"
            d="M39.324 78.359c12.025-16.875 29.959-1.852 29.959-1.852s18.002-15.023 29.959 1.852" />
          <path fill="#fff" stroke="#000" stroke-miterlimit="10"
            d="M66.26 48.383V33.566c-6.872.617-14.086 3.224-20.958 6.654v8.163H66.26zM93.265 48.383v-8.095c-6.871-3.43-14.155-6.036-20.957-6.653V48.45h20.957v-.068z" />
          <path fill="#fff" stroke="#000" stroke-miterlimit="10"
            d="M.503.503v47.948h29.478L45.716 64.16V48.451H56.16V.503H.504z" />
          <path fill="#fff" stroke="#000" stroke-miterlimit="10"
            d="M19.055 12.85h-6.184v15.434h6.184V12.85zM19.055 31.371h-6.184v6.174h6.184V31.37zM31.422 12.85h-6.184v15.434h6.184V12.85zM31.422 31.371h-6.184v6.174h6.184V31.37zM43.793 12.85H37.61v15.434h6.184V12.85zM43.793 31.371H37.61v6.174h6.184V31.37z" />
        </svg>

      </div>

      <div class="column is-half-mobile">
        <p class="mono">Start by talking it out</p>
      </div>
    </div>

    <div id="none" class="column is-11-mobile is-full-tablet">

      <p>You currently have no data.</p>

      <!-- <div id="grid">

        <a href="#" routerLink="/talk/{{project.slug}}" class="mono">Talk it out</a>

      </div> -->
      <!-- 
      <div class="bottom">Skip Talk It Out and <a href="#" routerLink="/projects/{{project.slug}}/track"
          class="mono">Track Your Progress</a>.
      </div> -->
    </div>

  </div>
</section>
